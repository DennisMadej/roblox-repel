local InputService = game:GetService("UserInputService")
local CollectionService = game:GetService("CollectionService")

local Repel = require(script.Parent.Repel)

local Player = game.Players.LocalPlayer
local Char = Player.Character or Player.CharacterAdded:Wait()
local RootPart = Char:WaitForChild("HumanoidRootPart")

task.wait(2)

-- Add objects which should get repelled
Repel.Effected = CollectionService:GetTagged("CustomBlock")
-- Add the root part as a object which repells
table.insert(Repel.Repeller, RootPart)

Repel:Enable()

InputService.InputBegan:Connect(function(input: InputObject, gameProcessedEvent: boolean)  
	if gameProcessedEvent then return end
	if input.KeyCode == Enum.KeyCode.E then
		Repel:Blast(RootPart.Position)
	end
end)
